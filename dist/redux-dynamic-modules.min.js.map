{"version":3,"sources":["webpack://redux-dynamic-modules/webpack/universalModuleDefinition","webpack://redux-dynamic-modules/webpack/bootstrap","webpack://redux-dynamic-modules/external \"redux\"","webpack://redux-dynamic-modules/./lib/Utils/RefCounter.js","webpack://redux-dynamic-modules/./lib/index.js","webpack://redux-dynamic-modules/./lib/Managers/RefCountedManager.js","webpack://redux-dynamic-modules/./lib/DynamicModuleLoader.js","webpack://redux-dynamic-modules/external \"prop-types\"","webpack://redux-dynamic-modules/external \"react\"","webpack://redux-dynamic-modules/external \"react-redux\"","webpack://redux-dynamic-modules/./lib/ModuleStore.js","webpack://redux-dynamic-modules/./lib/Managers/ModuleManager.js","webpack://redux-dynamic-modules/./lib/Managers/ReducerManager.js","webpack://redux-dynamic-modules/./lib/Utils/Flatten.js","webpack://redux-dynamic-modules/./lib/Utils/ComparableMap.js","webpack://redux-dynamic-modules/./lib/Managers/MiddlewareManager.js","webpack://redux-dynamic-modules//Users/anilanar/development/redux-dynamic-modules/node_modules/redux-dynamic-middlewares/lib/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getObjectRefCounter","equals","a","b","objects","counts","getCount","obj","undefined","index","findIndex","add","count","length","push","remove","getStringRefCounter","values","__export","__assign","this","assign","arguments","apply","RefCounter_1","getRefCountedManager","manager","refCounter","getItems","forEach","item","ret","items","nonNullItems","filter","notAddedItems","dispose","__extends","extendStatics","setPrototypeOf","__proto__","Array","__","constructor","PropTypes","React","react_redux_1","DynamicModuleLoader","_super","props","context","render","_this","ReactReduxContext","createElement","Consumer","DynamicModuleLoaderImpl","createStore","store","children","contextTypes","Component","_providerInitializationNeeded","_renderWithReactReduxContext","Provider","storeState","getState","_renderChildren","_store","_getLatestState","Error","_addedModules","addModules","componentWillUnmount","redux_1","_1","ModuleManager_1","RefCountedManager_1","Flatten_1","initialState","enhancers","extensions","compose","initialModules","_i","extensionMiddleware","reduce","mw","middleware","middlewareManager","getMiddlewareManager","enhancer","concat","applyMiddleware","getModuleManager","id","getReducer","setDispatch","dispatch","modulesToBeAdded","flattenedModules","flatten","addModule","moduleToBeAdded","onModuleManagerCreated","ReducerManager_1","_reducerManager","_dispatch","_modules","_moduleIds","Set","_dispatchActions","actions","moduleManager","modulesToAdd","justAddedModules","has","reducerMap","getRefCountedReducerManager","getReducerManager","_addReducers","middlewares","_addMiddlewares","onModuleAdded","moduleAddedAction","type","payload","initialActions","modulesToRemove","finalActions","_removeReducers","_removeMiddlewares","onModuleRemoved","getCombinedReducer","keys","combineReducers","state","action","reducerKeyRefCounter","getReducerMap","reducer","initialReducers","combinedReducer","reducers","keysToRemove","keysToRemove_1","arr","res","slice","isArray","splice","getMap","k","redux_dynamic_middlewares_1","dynamicMiddlewaresInstance","createDynamicMiddlewares","addMiddleware","removeMiddleware","resetMiddlewares","_redux","allDynamicMiddlewares","next","chain","map","_len","_key","_","mdwIndex","console","error","default"],"mappings":"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","file":"redux-dynamic-modules.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"), require(\"prop-types\"), require(\"react\"), require(\"react-redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"redux\", \"prop-types\", \"react\", \"react-redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redux-dynamic-modules\"] = factory(require(\"redux\"), require(\"prop-types\"), require(\"react\"), require(\"react-redux\"));\n\telse\n\t\troot[\"redux-dynamic-modules\"] = factory(root[\"redux\"], root[\"prop-types\"], root[\"react\"], root[\"react-redux\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\nexports.__esModule = true;\n/** Ref counts given object */\nfunction getObjectRefCounter(equals) {\n    if (!equals) {\n        equals = function (a, b) { return a === b; };\n    }\n    var objects = [];\n    var counts = [];\n    return {\n        /**\n         * Gets ref count of given T\n         */\n        getCount: function (obj) {\n            if (obj === undefined || obj === null) {\n                return 0;\n            }\n            var index = objects.findIndex(function (o) { return o && equals(o, obj); });\n            if (index === -1) {\n                return 0;\n            }\n            return counts[index];\n        },\n        /**\n         * Add given T or increments ref count\n         */\n        add: function (obj) {\n            if (obj === undefined || obj === null) {\n                return;\n            }\n            var index = objects.findIndex(function (o) { return o && equals(o, obj); });\n            var count = 1;\n            if (index === -1) {\n                index = objects.length;\n                objects.push(obj);\n            }\n            else {\n                count = counts[index] + 1;\n            }\n            counts[index] = count;\n        },\n        /**\n         * Decreases ref count for given T, if refcount reaches to zero removes the T and returns true\n         */\n        remove: function (obj) {\n            var index = objects.findIndex(function (o) { return o && equals(o, obj); });\n            if (index === -1) {\n                return false;\n            }\n            if (counts[index] === 1) {\n                delete objects[index];\n                delete counts[index];\n                return true;\n            }\n            counts[index] = counts[index] - 1;\n            return false;\n        }\n    };\n}\nexports.getObjectRefCounter = getObjectRefCounter;\n/**\n * Ref counts strings\n */\nfunction getStringRefCounter() {\n    var values = {};\n    return {\n        /**\n         * Returns current ref count for the key\n         */\n        getCount: function (key) {\n            if (key === undefined || key === null) {\n                return 0;\n            }\n            return values[key] || 0;\n        },\n        /**\n         * Adds given key for ref counting or increments ref count\n         */\n        add: function (key) {\n            if (key === undefined || key === null) {\n                return;\n            }\n            if (!values[key]) {\n                values[key] = 1;\n            }\n            else {\n                values[key]++;\n            }\n        },\n        /**\n         * Decreases ref count for the given key, if the ref count reaches 0 removes the key and returns true\n         */\n        remove: function (key) {\n            if (key === undefined || key === null) {\n                return false;\n            }\n            if (!values[key]) {\n                return false;\n            }\n            if (values[key] === 1) {\n                delete values[key];\n                return true;\n            }\n            values[key]--;\n            return false;\n        }\n    };\n}\nexports.getStringRefCounter = getStringRefCounter;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"./DynamicModuleLoader\"));\n__export(require(\"./ModuleStore\"));\n__export(require(\"./Utils/ComparableMap\"));\n__export(require(\"./Utils/RefCounter\"));\n__export(require(\"./Managers/MiddlewareManager\"));\n__export(require(\"./Managers/RefCountedManager\"));\n//Dummy change to keep lerna happy\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar RefCounter_1 = require(\"../Utils/RefCounter\");\n/**\n * Enhances the given items with ref counting for add remove purposes\n */\nfunction getRefCountedManager(manager, equals) {\n    var refCounter = RefCounter_1.getObjectRefCounter(equals);\n    var items = manager.getItems();\n    // Set initial ref counting\n    items.forEach(function (item) { return refCounter.add(item); });\n    var ret = __assign({}, manager);\n    // Wrap add method\n    ret.add = function (items) {\n        if (!items) {\n            return;\n        }\n        var nonNullItems = items.filter(function (i) { return i; });\n        var notAddedItems = nonNullItems.filter(function (i) { return refCounter.getCount(i) === 0; });\n        manager.add(notAddedItems);\n        nonNullItems.forEach(refCounter.add);\n    };\n    // Wrap remove\n    ret.remove = function (items) {\n        if (!items) {\n            return;\n        }\n        items.forEach(function (item) {\n            if (item) {\n                refCounter.remove(item);\n                if (refCounter.getCount(item) === 0) {\n                    manager.remove([item]);\n                }\n            }\n        });\n    };\n    ret.dispose = function () {\n        manager.dispose();\n    };\n    return ret;\n}\nexports.getRefCountedManager = getRefCountedManager;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\n//@ts-ignore\nvar react_redux_1 = require(\"react-redux\");\n/**\n * The DynamicModuleLoader adds a way to register a module on mount\n * When this component is initialized, the reducer and saga from the module passed as props will be registered with the system\n * On unmount, they will be unregistered\n */\nvar DynamicModuleLoader = /** @class */ (function (_super) {\n    __extends(DynamicModuleLoader, _super);\n    function DynamicModuleLoader(props, context) {\n        return _super.call(this, props, context) || this;\n    }\n    /**\n     * Render a Redux provider\n     */\n    DynamicModuleLoader.prototype.render = function () {\n        var _this = this;\n        if (react_redux_1.ReactReduxContext) {\n            return (React.createElement(react_redux_1.ReactReduxContext.Consumer, null, function (context) {\n                return (React.createElement(DynamicModuleLoaderImpl, { createStore: _this.props.createStore, store: context ? context.store : undefined, modules: _this.props.modules }, _this.props.children));\n            }));\n        }\n        else {\n            return (React.createElement(DynamicModuleLoaderImpl\n            // @ts-ignore\n            , { \n                // @ts-ignore\n                createStore: this.props.createStore, store: this.context.store, modules: this.props.modules }, this.props.children));\n        }\n    };\n    // @ts-ignore\n    DynamicModuleLoader.contextTypes = {\n        store: PropTypes.object\n    };\n    return DynamicModuleLoader;\n}(React.Component));\nexports.DynamicModuleLoader = DynamicModuleLoader;\nvar DynamicModuleLoaderImpl = /** @class */ (function (_super) {\n    __extends(DynamicModuleLoaderImpl, _super);\n    function DynamicModuleLoaderImpl(props) {\n        var _this = _super.call(this, props) || this;\n        _this._providerInitializationNeeded = false;\n        _this._renderWithReactReduxContext = function () {\n            var store = _this.props.store;\n            // store.getState is important here as we don't want to use storeState from the provided context\n            return (React.createElement(react_redux_1.ReactReduxContext.Provider, { value: { store: store, storeState: store.getState() } }, _this._renderChildren()));\n        };\n        _this._renderChildren = function () {\n            if (_this.props.children && typeof _this.props.children === \"function\") {\n                return _this.props.children();\n            }\n            return _this.props.children;\n        };\n        var createStore = props.createStore, modules = props.modules, store = props.store;\n        _this._store = store;\n        if (!_this._store) {\n            if (createStore) {\n                _this._store = createStore();\n                _this._providerInitializationNeeded = true;\n            }\n            else {\n                throw new Error(\"Store could not be resolved from React context\");\n            }\n        }\n        else {\n            // We will add modules dynamically and due to github issue https://github.com/Microsoft/redux-dynamic-modules/issues/27#issuecomment-464905893\n            // The very first render will not get latest state, to fix that we will need to get latest state from store directly on first render\n            _this._getLatestState = react_redux_1.ReactReduxContext;\n        }\n        _this._addedModules = _this._store.addModules(modules);\n        return _this;\n    }\n    DynamicModuleLoaderImpl.prototype.render = function () {\n        if (this._providerInitializationNeeded) {\n            return (React.createElement(react_redux_1.Provider, { store: this._store }, this._renderChildren()));\n        }\n        else if (!this._getLatestState) {\n            return this._renderChildren();\n        }\n        this._getLatestState = false;\n        return this._renderWithReactReduxContext();\n    };\n    /**\n     * Unregister sagas and reducers\n     */\n    DynamicModuleLoaderImpl.prototype.componentWillUnmount = function () {\n        if (this._addedModules) {\n            this._addedModules.remove();\n            this._addedModules = undefined;\n        }\n    };\n    return DynamicModuleLoaderImpl;\n}(React.Component));\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","\"use strict\";\nexports.__esModule = true;\nvar redux_1 = require(\"redux\");\nvar _1 = require(\".\");\nvar ModuleManager_1 = require(\"./Managers/ModuleManager\");\nvar RefCountedManager_1 = require(\"./Managers/RefCountedManager\");\nvar Flatten_1 = require(\"./Utils/Flatten\");\nfunction createStore(initialState, enhancers, extensions, compose) {\n    var initialModules = [];\n    for (var _i = 4; _i < arguments.length; _i++) {\n        initialModules[_i - 4] = arguments[_i];\n    }\n    if (!extensions) {\n        extensions = [];\n    }\n    var extensionMiddleware = extensions.reduce(function (mw, p) {\n        if (p.middleware) {\n            mw.push.apply(mw, p.middleware);\n        }\n        return mw;\n    }, []);\n    var middlewareManager = RefCountedManager_1.getRefCountedManager(_1.getMiddlewareManager(), function (a, b) { return a === b; });\n    var enhancer = compose.apply(void 0, enhancers.concat([redux_1.applyMiddleware.apply(void 0, extensionMiddleware.concat([middlewareManager.enhancer]))]));\n    var modules = RefCountedManager_1.getRefCountedManager(ModuleManager_1.getModuleManager(middlewareManager, extensions), function (a, b) { return a.id === b.id; });\n    // Create store\n    var store = redux_1.createStore(modules.getReducer, initialState, enhancer);\n    modules.setDispatch(store.dispatch);\n    var addModules = function (modulesToBeAdded) {\n        var flattenedModules = Flatten_1.flatten(modulesToBeAdded);\n        modules.add(flattenedModules);\n        return {\n            remove: function () {\n                modules.remove(flattenedModules);\n            }\n        };\n    };\n    var addModule = function (moduleToBeAdded) {\n        return addModules([moduleToBeAdded]);\n    };\n    extensions.forEach(function (p) {\n        if (p.onModuleManagerCreated) {\n            p.onModuleManagerCreated({\n                addModule: addModule,\n                addModules: addModules\n            });\n        }\n    });\n    store.addModule = addModule;\n    store.addModules = addModules;\n    store.dispose = function () {\n        // get all added modules and remove them\n        modules.dispose();\n        middlewareManager.dispose();\n        extensions.forEach(function (p) {\n            if (p.dispose) {\n                p.dispose();\n            }\n        });\n    };\n    store.addModules(initialModules);\n    return store;\n}\nexports.createStore = createStore;\n","\"use strict\";\nexports.__esModule = true;\nvar ReducerManager_1 = require(\"./ReducerManager\");\nfunction getModuleManager(middlewareManager, extensions) {\n    var _dispatch = null;\n    var _reducerManager;\n    var _modules = [];\n    var _moduleIds = new Set();\n    var _dispatchActions = function (actions) {\n        if (!actions) {\n            return;\n        }\n        if (!_dispatch) {\n            throw new Error(\"setDispatch should be called on ModuleManager before adding any modules.\");\n        }\n        actions.forEach(_dispatch);\n    };\n    var _addMiddlewares = function (middlewares) {\n        if (!middlewares) {\n            return;\n        }\n        middlewareManager.add(middlewares);\n    };\n    var _removeMiddlewares = function (middlewares) {\n        if (!middlewares) {\n            return;\n        }\n        middlewareManager.remove(middlewares);\n    };\n    var _addReducers = function (reducerMap) {\n        if (!reducerMap) {\n            return;\n        }\n        if (!_reducerManager) {\n            _reducerManager = ReducerManager_1.getRefCountedReducerManager(ReducerManager_1.getReducerManager(reducerMap));\n        }\n        else {\n            for (var key in reducerMap) {\n                _reducerManager.add(key, reducerMap[key]);\n            }\n        }\n    };\n    var _removeReducers = function (reducerMap) {\n        if (!reducerMap || !_reducerManager) {\n            return;\n        }\n        for (var key in reducerMap) {\n            _reducerManager.remove(key);\n        }\n    };\n    // Create reduce function which redirects to _reducers.reduce\n    var _reduce = function (s, a) {\n        if (_reducerManager) {\n            return _reducerManager.reduce(s, a);\n        }\n        return s || null;\n    };\n    var moduleManager = {\n        getReducer: _reduce,\n        setDispatch: function (dispatch) {\n            _dispatch = dispatch;\n        },\n        getItems: function () { return []; },\n        add: function (modulesToAdd) {\n            if (!modulesToAdd || modulesToAdd.length === 0) {\n                return;\n            }\n            modulesToAdd = modulesToAdd.filter(function (module) { return module; });\n            var justAddedModules = [];\n            modulesToAdd.forEach(function (module) {\n                if (!_moduleIds.has(module.id)) {\n                    _moduleIds.add(module.id);\n                    _modules.push(module);\n                    _addReducers(module.reducerMap);\n                    var middlewares = module.middlewares;\n                    if (middlewares) {\n                        _addMiddlewares(middlewares);\n                    }\n                    justAddedModules.push(module);\n                }\n            });\n            // add the sagas and dispatch actions at the end so all the reducers are registered\n            justAddedModules.forEach(function (module) {\n                // Let the extensions know we added a module\n                extensions.forEach(function (p) {\n                    if (p.onModuleAdded) {\n                        p.onModuleAdded(module);\n                    }\n                });\n                // Dispatch the initial actions\n                var moduleAddedAction = {\n                    type: \"@@Internal/ModuleManager/ModuleAdded\",\n                    payload: module.id\n                };\n                _dispatchActions(module.initialActions\n                    ? [moduleAddedAction].concat(module.initialActions) : [moduleAddedAction]);\n            });\n        },\n        remove: function (modulesToRemove) {\n            if (!modulesToRemove) {\n                return;\n            }\n            modulesToRemove = modulesToRemove.filter(function (module) { return module; });\n            modulesToRemove.forEach(function (module) {\n                if (_moduleIds.has(module.id)) {\n                    _dispatchActions(module.finalActions);\n                    _removeReducers(module.reducerMap);\n                    _removeMiddlewares(module.middlewares);\n                    // Let the extensions know we removed a module\n                    extensions.forEach(function (p) {\n                        if (p.onModuleRemoved) {\n                            p.onModuleRemoved(module);\n                        }\n                    });\n                    _moduleIds[\"delete\"](module.id);\n                    _modules = _modules.filter(function (m) { return m.id !== module.id; });\n                    _dispatchActions([\n                        {\n                            type: \"@@Internal/ModuleManager/ModuleRemoved\",\n                            payload: module.id\n                        },\n                    ]);\n                }\n            });\n        },\n        dispose: function () {\n            moduleManager.remove(_modules);\n        }\n    };\n    return moduleManager;\n}\nexports.getModuleManager = getModuleManager;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar redux_1 = require(\"redux\");\nvar RefCounter_1 = require(\"../Utils/RefCounter\");\n/**\n * Adds reference counting to reducer manager and adds/remove keys only when ref count is zero\n */\nfunction getRefCountedReducerManager(manager) {\n    var reducerKeyRefCounter = RefCounter_1.getStringRefCounter();\n    for (var key in manager.getReducerMap()) {\n        reducerKeyRefCounter.add(key);\n    }\n    return {\n        reduce: manager.reduce,\n        getReducerMap: manager.getReducerMap,\n        add: function (key, reducer) {\n            if (reducerKeyRefCounter.getCount(key) === 0) {\n                manager.add(key, reducer);\n            }\n            reducerKeyRefCounter.add(key);\n        },\n        remove: function (key) {\n            reducerKeyRefCounter.remove(key);\n            if (reducerKeyRefCounter.getCount(key) === 0) {\n                manager.remove(key);\n            }\n        }\n    };\n}\nexports.getRefCountedReducerManager = getRefCountedReducerManager;\n/**\n * Create a combined reducer as in the fashion of Redux's combineReducers() function,\n * but allows for the dynamic registration of additional reducers\n * @param initialReducers The initial set of reducers\n * @returns An object with three functions: the reducer, an addReducer function, and a removeReducer function\n */\nfunction getReducerManager(initialReducers) {\n    var combinedReducer = redux_1.combineReducers(initialReducers);\n    var reducers = __assign({}, initialReducers);\n    var keysToRemove = [];\n    var reduce = function (state, action) {\n        if (keysToRemove.length > 0) {\n            state = __assign({}, state);\n            for (var _i = 0, keysToRemove_1 = keysToRemove; _i < keysToRemove_1.length; _i++) {\n                var key = keysToRemove_1[_i];\n                delete state[key];\n            }\n            keysToRemove = [];\n        }\n        if (state === undefined) {\n            state = {};\n        }\n        return combinedReducer(state, action);\n    };\n    return {\n        getReducerMap: function () { return reducers; },\n        reduce: reduce,\n        add: function (key, reducer) {\n            if (!key || reducers[key]) {\n                return;\n            }\n            reducers[key] = reducer;\n            combinedReducer = getCombinedReducer(reducers);\n        },\n        remove: function (key) {\n            if (!key || !reducers[key]) {\n                return;\n            }\n            delete reducers[key];\n            keysToRemove.push(key);\n            combinedReducer = getCombinedReducer(reducers);\n        }\n    };\n}\nexports.getReducerManager = getReducerManager;\nfunction getCombinedReducer(reducerMap) {\n    if (!reducerMap || Object.keys(reducerMap).length === 0) {\n        return function (state, action) { return state || null; };\n    }\n    return redux_1.combineReducers(reducerMap);\n}\n","\"use strict\";\nexports.__esModule = true;\nfunction flatten(arr) {\n    if (arr) {\n        var res = arr.slice();\n        var i = 0;\n        while (i < res.length) {\n            if (Array.isArray(res[i])) {\n                res.splice.apply(res, [i, 1].concat(res[i]));\n            }\n            else {\n                i++;\n            }\n        }\n        return res;\n    }\n    return arr;\n}\nexports.flatten = flatten;\n","\"use strict\";\nexports.__esModule = true;\n/**\n * We will use it where we can not use the default Map as the Map class do not allow custom compare function\n * @param equals Optional, a comparer to use\n */\nfunction getMap(equals) {\n    var keys = [];\n    var values = {};\n    return {\n        /**\n         * Current set of keys\n         */\n        keys: keys,\n        /**\n         * Gets value for given key\n         */\n        get: function (key) {\n            if (!key) {\n                return undefined;\n            }\n            var index = keys.findIndex(function (k) { return k && equals(k, key); });\n            if (index === -1) {\n                return undefined;\n            }\n            return values[index];\n        },\n        /**\n         * Adds the given key and value\n         */\n        add: function (key, value) {\n            if (!key) {\n                return;\n            }\n            var index = keys.findIndex(function (k) { return k && equals(k, key); });\n            if (index === -1) {\n                keys.push(key);\n                values[keys.length - 1] = value;\n            }\n        },\n        /**\n         * Removes the given key and returns the value object if key was found\n         */\n        remove: function (key) {\n            if (!key) {\n                return undefined;\n            }\n            var index = keys.findIndex(function (k) { return k && equals(k, key); });\n            if (index === -1) {\n                return undefined;\n            }\n            delete keys[index];\n            var value = values[index];\n            delete values[index];\n            return value;\n        }\n    };\n}\nexports.getMap = getMap;\n","\"use strict\";\n//inspired from https://github.com/pofigizm/redux-dynamic-middlewares\nexports.__esModule = true;\nvar redux_dynamic_middlewares_1 = require(\"redux-dynamic-middlewares\");\nexports.getMiddlewareManager = function () {\n    var dynamicMiddlewaresInstance = redux_dynamic_middlewares_1.createDynamicMiddlewares();\n    var add = function (middlewares) {\n        dynamicMiddlewaresInstance.addMiddleware.apply(dynamicMiddlewaresInstance, middlewares);\n        return middlewares;\n    };\n    var remove = function (middlewares) {\n        middlewares.forEach(dynamicMiddlewaresInstance.removeMiddleware);\n        return middlewares;\n    };\n    return {\n        getItems: function () { return []; },\n        enhancer: dynamicMiddlewaresInstance.enhancer,\n        add: add,\n        remove: remove,\n        dispose: function () {\n            dynamicMiddlewaresInstance.resetMiddlewares();\n        }\n    };\n};\n","'use strict';\n\nexports.__esModule = true;\nexports.createDynamicMiddlewares = exports.resetMiddlewares = exports.removeMiddleware = exports.addMiddleware = undefined;\n\nvar _redux = require('redux');\n\nvar createDynamicMiddlewares = function createDynamicMiddlewares() {\n  var allDynamicMiddlewares = [];\n\n  var enhancer = function enhancer(store) {\n    return function (next) {\n      return function (action) {\n        var chain = allDynamicMiddlewares.map(function (middleware) {\n          return middleware(store);\n        });\n\n        return _redux.compose.apply(undefined, chain)(next)(action);\n      };\n    };\n  };\n\n  var addMiddleware = function addMiddleware() {\n    for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n      middlewares[_key] = arguments[_key];\n    }\n\n    allDynamicMiddlewares = [].concat(allDynamicMiddlewares, middlewares);\n  };\n\n  var removeMiddleware = function removeMiddleware(middleware) {\n    var index = allDynamicMiddlewares.findIndex(function (d) {\n      return d === middleware;\n    });\n\n    if (index === -1) {\n      // eslint-disable-next-line no-console\n      console.error('Middleware does not exist!', middleware);\n\n      return;\n    }\n\n    allDynamicMiddlewares = allDynamicMiddlewares.filter(function (_, mdwIndex) {\n      return mdwIndex !== index;\n    });\n  };\n\n  var resetMiddlewares = function resetMiddlewares() {\n    allDynamicMiddlewares = [];\n  };\n\n  return {\n    enhancer: enhancer,\n    addMiddleware: addMiddleware,\n    removeMiddleware: removeMiddleware,\n    resetMiddlewares: resetMiddlewares\n  };\n};\n\nvar dynamicMiddlewaresInstance = createDynamicMiddlewares();\n\nexports.default = dynamicMiddlewaresInstance.enhancer;\nvar addMiddleware = dynamicMiddlewaresInstance.addMiddleware,\n    removeMiddleware = dynamicMiddlewaresInstance.removeMiddleware,\n    resetMiddlewares = dynamicMiddlewaresInstance.resetMiddlewares;\nexports.addMiddleware = addMiddleware;\nexports.removeMiddleware = removeMiddleware;\nexports.resetMiddlewares = resetMiddlewares;\nexports.createDynamicMiddlewares = createDynamicMiddlewares;"],"sourceRoot":""}